name: Keras train classifier from csv

description: |-
  Transform DataFrame loaded from a CSV file.

      Inputs:
          table: Table to transform.
          transform_code: Transformation code. Code is written in Python and can consist of multiple lines.
              The DataFrame variable is called "df".
              Examples:
              - `df['prod'] = df['X'] * df['Y']`
              - `df = df[['X', 'prod']]`
              - `df.insert(0, "is_positive", df["X"] > 0)`

      Outputs:
          transformed_table: Transformed table.

      Annotations:
          author: Alexey Volkov <alexey.volkov@ark-kun.com>

inputs:
- {name: training_features, type: CSV, optional: true}

implementation:
  container:
    image: tensorflow/tensorflow:2.2.0
    command:
    - sh
    - -c
    - (PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location
      'keras==2.3.1' 'pandas==1.4.3' || PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m
      pip install --quiet --no-warn-script-location 'keras==2.3.1' 'pandas==1.4.3'
      --user) && "$0" "$@"
    - python3
    - -u
    - -c
    - |
      def hello():
          return "hello"
