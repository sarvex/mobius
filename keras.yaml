name: Keras train classifier from csv

inputs:
- {name: training_features, type: CSV, optional: true}
- {name: training_labels, type: CSV, optional: true}
- {name: network_json, type: KerasModelJson, optional: true}
- {name: loss_name, type: String, default: categorical_crossentropy, optional: true}
- {name: num_classes, type: Integer, optional: true}
- {name: optimizer, type: String, default: rmsprop, optional: true}

implementation:
  container:
    image: tensorflow/tensorflow:2.2.0
    command:
    - sh
    - -c
    - (PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location
      'keras==2.3.1' 'pandas==1.4.3' || PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m
      pip install --quiet --no-warn-script-location 'keras==2.3.1' 'pandas==1.4.3'
      --user) && "$0" "$@"
    - python3
    - -u
    - -c
    - |
      def hello():
          return "hello"
